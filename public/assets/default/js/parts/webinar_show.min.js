!function(t){"use strict";var o=t("#offerCountDown");if(o.length){var e=o.attr("data-day"),a=o.attr("data-hour"),n=o.attr("data-minute"),i=o.attr("data-second");o.countdown100({endtimeYear:0,endtimeMonth:0,endtimeDate:e,endtimeHours:a,endtimeMinutes:n,endtimeSeconds:i,timeZone:""})}function s(o,e,a,n,i){var s={item:e,item_id:a,status:n};t.post("/course/"+o+"/learningStatus",s,function(o){t.toast({heading:"",text:learningToggleLangSuccess,bgColor:"#43d477",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"success"}),setTimeout(function(){window.location.reload()},500)}).fail(function(o){i.prop("checked",!n),t.toast({heading:"",text:learningToggleLangError,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})})}function r(o,e){t.toast({heading:o,text:e,bgColor:"#f63c3c",textColor:"white",hideAfter:1e4,position:"bottom-right",icon:"error"})}t(".barrating-stars select").each(function(o,e){var a=t(e);a.barrating({theme:"css-stars",readonly:!1,initialRating:a.data("rate")})}),t("body").on("click","#webinarDemoVideoBtn",function(o){o.preventDefault();var e=t(this).attr("data-video-path"),a=t(this).attr("data-video-source"),n=t(window).width()>991?480:264,i=makeVideoPlayerHtml(e,a,n,"demoVideoPlayer"),s=i.html,r=i.options,c='<div id="webinarDemoVideoModal" class="demo-video-modal">\n<h3 class="section-title after-line font-20 text-dark-blue">'+webinarDemoLang+'</h3>\n<div class="demo-video-card mt-25">\n';c+=s,c+="</div></div>",Swal.fire({html:c,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem",onOpen:function(){videojs("demoVideoPlayer",r)}})}),t("body").on("click","#webinarReportBtn",function(o){o.preventDefault();var e=t("#webinarReportModal").html();Swal.fire({html:e,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"48rem"})}),t("body").on("click",".js-course-report-submit",function(o){o.preventDefault();var e=t(this),a=e.closest("form"),n=a.attr("action"),i=a.serializeObject();e.addClass("loadingbar primary").prop("disabled",!0),a.find(".invalid-feedback").text(""),a.find(".is-invalid").removeClass("is-invalid"),t.post(n,i,function(t){t&&200===t.code?(Swal.fire({icon:"success",html:'<h3 class="font-20 text-center text-dark-blue">'+reportSuccessLang+"</h3>",showConfirmButton:!1}),setTimeout(function(){window.location.reload()},2e3)):t&&401===t.code&&Swal.fire({icon:"error",html:'<h3 class="font-20 text-center text-dark-blue">'+reportFailLang+"</h3>",showConfirmButton:!1})}).fail(function(t){e.removeClass("loadingbar primary").prop("disabled",!1);var o=t.responseJSON;o&&o.errors&&Object.keys(o.errors).forEach(function(t){var e=o.errors[t],n=a.find('[name="'+t+'"]');n.addClass("is-invalid"),n.parent().find(".invalid-feedback").text(e[0])})})}),t("body").on("change",'input[name="ticket_id"]',function(o){o.preventDefault();var e=t(this).attr("data-discount"),a=t("#realPrice"),n=t("#priceWithDiscount"),i=Number(a.attr("data-value")),s=Number(a.attr("data-special-offer")),r=i*(Number(e)+s)/100;if(a.removeClass("text-primary").addClass("d-block font-20 text-gray text-decoration-line-through mr-15"),n.length)n.addClass("d-block"),n.text(i-r);else{a.removeClass("d-block");var c='<span id="priceWithDiscount"\nclass="font-30 text-primary">\n'+(i-r)+"</span>";a.parent().append(c)}}),t("body").on("click","#favoriteToggle",function(o){o.preventDefault(),o.stopPropagation();var e=t(this).attr("href"),a=t(this).find("svg");a.hasClass("favorite-active")?a.removeClass("favorite-active"):a.addClass("favorite-active"),t.get(e,function(t){})}),t("body").on("click",".js-share-course",function(o){o.preventDefault(),Swal.fire({html:t("#courseShareModal").html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},onOpen:function(){t('[data-toggle="tooltip"]').tooltip()},width:"32rem"})}),t("body").on("click",".js-course-share-link-copy",function(o){var e;o.preventDefault(),t(this).attr("data-original-title",copiedLang).tooltip("show"),t(this).attr("data-original-title",copyLang),e=t("<input>"),t("body").append(e),e.css("position","absolute"),e.val(t(".js-course-share-link").html()).select(),document.execCommand("copy"),e.remove()}),t("body").on("change",".js-file-learning-toggle",function(o){var e=t(this);s(e.val(),"file_id",e.attr("data-file-id"),this.checked,e)}),t("body").on("change",".js-text-lesson-learning-toggle",function(o){var e=t(this);s(e.val(),"text_lesson_id",e.attr("data-lesson-id"),this.checked,e)}),t("body").on("change",".js-text-session-toggle",function(o){var e=t(this);s(e.val(),"session_id",e.attr("data-session-id"),this.checked,e)}),t("body").on("click",".not-login-toast",function(t){t.preventDefault(),notLoginToastTitleLang&&notLoginToastMsgLang&&r(notLoginToastTitleLang,notLoginToastMsgLang)}),t("body").on("click",".not-access-toast",function(t){t.preventDefault(),notAccessToastTitleLang&&notAccessToastMsgLang&&r(notAccessToastTitleLang,notAccessToastMsgLang)}),t("body").on("click",".js-sequence-content-error-modal",function(o){o.preventDefault();var e=t(this).attr("data-passed-error"),a=t(this).attr("data-access-days-error"),n='<ul class="list-group-custom">\n';e&&(n+='<li class="font-14 mb-10">'+e+"</li>\n"),a&&(n+='<li class="font-14">'+a+"</li>\n"),n+="</ul>",Swal.fire({icon:"error",title:sequenceContentErrorModalTitle,html:n,showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"30rem"})}),t("body").on("click",".can-not-try-again-quiz-toast",function(t){t.preventDefault(),canNotTryAgainQuizToastTitleLang&&canNotTryAgainQuizToastMsgLang&&r(canNotTryAgainQuizToastTitleLang,canNotTryAgainQuizToastMsgLang)}),t("body").on("click",".can-not-download-certificate-toast",function(t){t.preventDefault(),canNotDownloadCertificateToastTitleLang&&canNotDownloadCertificateToastMsgLang&&r(canNotDownloadCertificateToastTitleLang,canNotDownloadCertificateToastMsgLang)}),t("body").on("click",".session-finished-toast",function(t){t.preventDefault(),sessionFinishedToastTitleLang&&sessionFinishedToastMsgLang&&r(sessionFinishedToastTitleLang,sessionFinishedToastMsgLang)}),t("body").on("click",".js-play-video",function(o){o.preventDefault();var e=t("#playVideo"),a=e.find(".file-video-loading"),n=e.find(".js-modal-video-content");a.removeClass("d-none"),n.addClass("d-none");var i=t(this).attr("data-id"),s=t(this).attr("data-title");e.find(".section-title:first").text(s),e.modal("show"),document.getElementsByTagName("html")[0].classList.add("html-modal-open"),e.animate({scrollTop:0},100),handleVideoByFileId(i,n,function(){a.addClass("d-none"),n.removeClass("d-none"),e.find(".modal-video-item").removeClass("active"),e.find('.modal-video-item[data-id="'+i+'"]').addClass("active"),e.find(".collapse").removeClass("show"),e.find("#collapseVideo"+i).addClass("show")}),t("#playVideo").on("hidden.bs.modal",function(){pauseVideoPlayer(),document.getElementsByTagName("html")[0].classList.remove("html-modal-open")})}),t("body").on("click",".js-buy-with-point",function(o){o.preventDefault(),Swal.fire({html:t("#buyWithPointModal").html(),showCancelButton:!1,showConfirmButton:!1,customClass:{content:"p-0 text-left"},width:"28rem"})}),t("body").on("click",".js-buy-course-with-point",function(o){t(this).addClass("loadingbar primary").prop("disabled",!0)}),t("body").on("click",".js-course-add-to-cart-btn",function(o){var e=t(this);e.addClass("loadingbar primary").prop("disabled",!0);var a=e.closest("form");a.attr("action","/cart/store"),a.trigger("submit")}),t("body").on("click",".js-course-direct-payment",function(o){var e=t(this);e.addClass("loadingbar danger").prop("disabled",!0);var a=e.closest("form");a.attr("action","/course/direct-payment"),a.trigger("submit")}),t("body").on("click",".js-course-has-bought-status",function(t){t.preventDefault(),courseHasBoughtStatusToastTitleLang&&courseHasBoughtStatusToastMsgLang&&r(courseHasBoughtStatusToastTitleLang,courseHasBoughtStatusToastMsgLang)}),t("body").on("click",".js-course-not-capacity-status",function(t){t.preventDefault(),courseNotCapacityStatusToastTitleLang&&courseNotCapacityStatusToastMsgLang&&r(courseNotCapacityStatusToastTitleLang,courseNotCapacityStatusToastMsgLang)}),t("body").on("click",".js-course-has-started-status",function(t){t.preventDefault(),courseHasStartedStatusToastTitleLang&&courseHasStartedStatusToastMsgLang&&r(courseHasStartedStatusToastTitleLang,courseHasStartedStatusToastMsgLang)}),t(document).ready(function(){var o=t(".js-chapter-collapse-toggle");if(o&&o.length){var e=o[0];e&&t(e).trigger("click")}})}(jQuery);
